<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:SampleMauiMvvmApp.ViewModels"
             x:DataType="viewModels:ReadingViewModel"
             x:Class="SampleMauiMvvmApp.Views.ReflushPage"
             Title="Recycle All Readings"
             BackgroundColor="#f5f5f5">

    <ContentPage.ToolbarItems>
        <ToolbarItem
            IconImageSource="reset2_icon.png"
            Command="{Binding ResetReadingCommand}"
            Order="Primary"
            Priority="0" />
    </ContentPage.ToolbarItems>

    <Grid RowDefinitions="*,Auto"
          ColumnDefinitions="*"
          Padding="15">

        <!-- Instructions Content -->
        <ScrollView Grid.Row="0">
            <VerticalStackLayout Spacing="15">

                <Label Text="Before Invoking the Data Synchronization"
                       FontAttributes="Bold"
                       FontSize="20"
                       TextColor="#222" />

                <!-- Section: Initialization -->
                <Label Text="Initialization"
                       FontAttributes="Bold"
                       FontSize="16"
                       TextColor="#444" />
                <Label Text="No manual initialization is required. The synchronization process is done by the app."
                       FontSize="13"
                       TextColor="#777" />

                <!-- Section: Internet Check -->
                <Label Text="Check Internet Connection"
                       FontAttributes="Bold"
                       FontSize="16"
                       TextColor="#444" />
                <Label Text="Ensure that your device is connected to the internet via office WiFi ONLY before initiating the synchronization process."
                       FontSize="13"
                       TextColor="#777" />

                <!-- Section: Sync Details -->
                <Label Text="Initiating Data Synchronization"
                       FontAttributes="Bold"
                       FontSize="16"
                       TextColor="#444" />
                <Label Text="Synchronization is automatic at specific intervals. During this, all current month readings will be synced—including those captured by other users."
                       FontSize="13"
                       TextColor="#777" />

                <!-- Section: During Sync -->
                <Label Text="During the Synchronization Process"
                       FontAttributes="Bold"
                       FontSize="16"
                       TextColor="#444" />

                <Label Text="Connectivity Alert:"
                       FontAttributes="Bold"
                       FontSize="14"
                       TextColor="#666" />
                <Label Text="If your device is offline, you'll get an alert. Reconnect and synchronization will resume automatically."
                       FontSize="13"
                       TextColor="#777" />

                <Label Text="Data Sync Alert:"
                       FontAttributes="Bold"
                       FontSize="14"
                       TextColor="#666" />
                <Label Text="You will receive alerts when new data is detected during sync. Stay informed through these messages."
                       FontSize="13"
                       TextColor="#777" />

                <Label Text="Observing Update Status:"
                       FontAttributes="Bold"
                       FontSize="14"
                       TextColor="#666" />
                <Label Text="Successful syncs are indicated by confirmation alerts/messages shown by the app."
                       FontSize="13"
                       TextColor="#777" />
            </VerticalStackLayout>
        </ScrollView>

        <!-- Reflush Button -->
        <Button Grid.Row="1"
                Margin="0,20,0,0"
                Text="♻️ Recycle Readings"
                Command="{Binding ReflushDataCommand}"
                BackgroundColor="#d32f2f"
                TextColor="White"
                FontAttributes="Bold"
                FontSize="16"
                CornerRadius="10"
                HeightRequest="50" />

        <!-- Loading Indicator -->
        <ActivityIndicator Grid.RowSpan="2"
                           IsVisible="{Binding IsBusy}"
                           IsRunning="{Binding IsBusy}"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           Color="Red" />
    </Grid>
</ContentPage>